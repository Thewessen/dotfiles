# ==================================================================
#       S. Thewessen
#       Personal: ~/.oh-my-zsh/custom/aliases

#       Last modified: Mo 28 Jan 2019
# ==================================================================

# commit to dot repo
alias dot='/usr/bin/git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME'
alias dss='dot branch --show-current && dot diff --compact-summary'
alias dotdiff='dot branch --show-current && dot diff'
alias dcm='dot commit -m'
alias dotall='for file in $(dot diff --name-only); do; dot add $file; done'

# Git status vi
alias vig='nvim +Gstatus -c ":only"' 

# =================================
#             General
# =================================

# Use different TERM for ssh
alias ssh='TERM=xterm-256color ssh'

# For mac
alias ctags='/usr/local/bin/ctags'
alias pstree='pstree -aclp'

alias xclip='xclip -selection clipboard'

# Dir STACK, zsh and csh only
alias dh='dirs -v'

alias c='clear'
alias j='jobs'
alias p='ps -f'
alias sortnr='sort -n -r'

alias grep='grep --color'
alias sgrep='grep -R -n -H -C 5 --exclude-dir={.git,.svn,CVS} '
alias ag="ag --color-path 33 --color-match '1;34' --color-line-number 32 --ignore tags"

if type fd >/dev/null; then
  alias chf='fd --type f --exec chmod 644 {} \;'
  alias chd='fd --type d --exec chmod 755 {} \;'
  alias fd='fd --type d'
  alias ff='fd --type f'
else
  alias chf='find . -type f -exec chmod 644 {} \;'
  alias chd='find . -type d -exec chmod 755 {} \;'
  alias fd='find . -type d -name'
  alias ff='find . -type f -name'
fi

alias h='history'
alias hgrep='fc -El 0 | grep'
alias help='man'
alias t='tail -f'

alias dud='du -d 1 -h'
alias duf='du -cksh *'

# Brew install coreutils
if type lsd >/dev/null; then
  alias ls='lsd --group-dirs first --color=never --date="+%d-%m-%y %H:%M:%S"'
fi
# ls on mac doesn't support long option format
alias l='ls -lFh'
alias ll='ls -l'
alias la='ls -lAFh'
alias lr='ls -tRFh'
alias lt='ls -ltFh'
alias ldot='ls -d .*'
if type lsd >/dev/null; then
  # for lsd only
  alias l='lsd --blocks=name,date --date="+%d-%m-%y %H:%M:%S" --group-dirs=first --color=always'
  alias la='lsd -A --blocks=name,date --date="+%d-%m-%y %H:%M:%S" --group-dirs=first --color=always'
fi


alias zshrc="$EDITOR ~/.zshrc"
alias bashrc="$EDITOR ~/.bashrc"
alias tmuxrc="$EDITOR ~/.tmux.conf"
alias vimrc="$EDITOR ~/.vimrc"

# =================================
#             Programs
# =================================
alias gpi="git pimp"
alias gmm="git merge origin/master"

alias passwd='pwgen -ncsBv1'

# John the Ripper (Jumbo)
# alias john="$HOME/.local/share/JohnTheRipper/run/john"
# alias zip2john="$HOME/.local/share/JohnTheRipper/run/zip2john"
# alias rar2john="$HOME/.local/share/JohnTheRipper/run/rar2john"

# alias http='live-server -V'

alias npm-update="sudo $HOME/.dotfiles/npm/npm-upgrade.sh"

alias viplug='nvim +PlugInstall +qall'
alias viplug-clean='nvim +PlugClean +qall'
alias viplug-update='nvim +PlugUpdate +qall'
alias viplug-upgrade='nvim +PlugUpgrade +qall'

# =================================
#             Files
# =================================
#read documents on Linux Mint/Ubuntu from commandline
if [[ -n "$(uname -v | grep Ubuntu)" ]]; then
    alias o="xdg-open 2> /dev/null"

    _www_fts=(html de org net com at io nl se dk)
    _img_fts=(jpg JPG jpeg JPEG mjpg MJPG mjpeg MJPEG gif GIF bmp BMP pbm PBM pgm PGM ppm PPM tga TGA xbm XBM xpm XPM tif TIF tiff TIFF png PNG svg SVG svgz SVGZ mng MNG pcx PCX mov MOV mpg MPG mpeg MPEG m2v M2V mkv MKV webm WEBM ogm OGM mp4 MP4 m4v M4V mp4v MP4V vob VOB qt QT nuv NUV wmv WMV asf ASF rm RM rmvb RMVB flc FLC avi AVI fli FLI flv FLV gl GL dl DL xcf XCF xwd XWD yuv YUV cgm CGM emf EMF 3gp 3GP ogv OGV ogx OGX heic HEIC heif HEIF)
    _aud_fts=(aac AAC au AU flac FLAC m4a M4A mid MID midi MIDI mka MKA mp3 MP3 mpc MPC ogg OGG ra RA wav WAV oga OGA opus OPUS spx SPX xspf XSPF)
    _pres_fts=(dvi DVI pdf PDF ppt PPT pptx PPTX)
    _doc_fts=(doc DOC docx DOCX odt ODT ott OTT)
    _sht_fts=(ods ODS xls XLS xlsm XLSM)

    for ft in $_www_fts; do alias -s $ft="xdg-open 2> /dev/null"; done
    for ft in $_img_fts; do alias -s $ft="xdg-open 2> /dev/null"; done
    for ft in $_aud_fts; do alias -s $ft="xdg-open 2> /dev/null"; done
    for ft in $_pres_fts; do alias -s $ft="xdg-open 2> /dev/null"; done
    for ft in $_doc_fts; do alias -s $ft="xdg-open 2> /dev/null"; done
    for ft in $_sht_fts; do alias -s $ft="xdg-open 2> /dev/null"; done
fi

# =================================
#               Pipes
# =================================

alias -g X="| xargs"
alias -g G="| grep"
alias -g F="| fzf"
alias -g T="| tail"
alias -g H="| head"
alias -g S="| sort"
alias -g L="| bat --plain --theme=gruvbox-light"
alias -g B="| bat"
alias -g M="| most"
alias -g VI="| xargs nvim --"
alias -g LL="2>&1 | less -X"
alias -g NE="2> /dev/null"
alias -g NUL="> /dev/null 2>&1"
